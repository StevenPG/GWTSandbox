package stevengantz.client;

import java.util.ArrayList;

import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.event.dom.client.ErrorEvent;
import com.google.gwt.event.dom.client.ErrorHandler;
import com.google.gwt.user.client.ui.HorizontalPanel;
import com.google.gwt.user.client.ui.Image;
import com.google.gwt.user.client.ui.RootPanel;
import com.google.gwt.user.client.ui.VerticalPanel;

import stevengantz.memory.data.Appdata;

/**
 * Entry point classes define <code>onModuleLoad()</code>.
 */
public class memory implements EntryPoint {

    ArrayList<Image> backCardImageArray;

    /**
     * This is the entry point method.
     */
    public void onModuleLoad() {

        backCardImageArray = loadImages();

        VerticalPanel vert = new VerticalPanel();
        
        ArrayList<HorizontalPanel> horizList = new ArrayList<HorizontalPanel>();
        for(int )
        horizList.add(new HorizontalPanel());
        horizList.add(new HorizontalPanel());

        horizList.add(new HorizontalPanel())
        HorizontalPanel horiz = new HorizontalPanel();
        
        
        for(Image img : backCardImageArray){
            horiz.add(img);
        }

        RootPanel.get().add(horiz);
    }

    /**
     * Load all images for the application
     * @return arraylist of images
     */
    private ArrayList<Image> loadImages() {
        
        // Create an array of images
        this.backCardImageArray = new ArrayList<Image>();

        // Create and assign images
        for (int index = 0; index < Appdata.NUMBEROFCARDS; index++) {
            
            // back card face image
            Image backImage = new Image();

            // Set Url for all backCardImages
            backImage.setUrl("img/card-back.jpg");
            
            // Assign error handlers for each card
            backImage.addErrorHandler(new ErrorHandler() {
                @Override
                public void onError(ErrorEvent event) {
                    //backImage.setUrl(Appdata.ERRORIMAGE);                
                }
            });
            
            // Set Pixel size from constants
            backImage.setPixelSize(Appdata.CARDWIDTH, Appdata.CARDHEIGHT);
            
            // Add the image to the cardList
            this.backCardImageArray.add(backImage);
        }
        
        return backCardImageArray;
    }
}
