package stevengantz.client;

import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.core.shared.GWT;
import com.google.gwt.event.dom.client.ErrorEvent;
import com.google.gwt.event.dom.client.ErrorHandler;
import com.google.gwt.user.client.ui.Image;
import com.google.gwt.user.client.ui.Label;
import com.google.gwt.user.client.ui.RootPanel;
import com.google.gwt.user.client.ui.VerticalPanel;

import stevengantz.memory.card.ImageCardFace;
import stevengantz.memory.card.MemoryCard;

/**
 * Entry point classes define <code>onModuleLoad()</code>.
 */
public class memory implements EntryPoint {
    
    private Label lbl = new Label();

    /**
     * This is the entry point method.
     */
    public void onModuleLoad() {

        VerticalPanel panel = new VerticalPanel();
        
        MemoryCard mem = new MemoryCard(new ImageCardFace("card-back.jpg"), new ImageCardFace(""));
        ImageCardFace testImage = (ImageCardFace) mem.getFrontFace();
        Image img = testImage.getFace();
        
        // set error handler
        img.addErrorHandler(new ErrorHandler() {
            public void onError(ErrorEvent event) {
                lbl.setText("Error loading Image");
            }
        });
        
        img.setVisibleRect(500, 500, 500, 500);
        
        panel.add(img);
        panel.add(lbl);
        RootPanel.get().add(panel);
    }
}
