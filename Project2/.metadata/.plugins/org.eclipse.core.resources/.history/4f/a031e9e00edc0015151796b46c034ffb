package stevengantz.client;

import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.event.dom.client.ClickEvent;
import com.google.gwt.event.dom.client.ClickHandler;
import com.google.gwt.event.dom.client.ErrorEvent;
import com.google.gwt.event.dom.client.ErrorHandler;
import com.google.gwt.user.client.ui.Button;
import com.google.gwt.user.client.ui.HorizontalPanel;
import com.google.gwt.user.client.ui.Image;
import com.google.gwt.user.client.ui.Label;
import com.google.gwt.user.client.ui.RootPanel;
import com.google.gwt.user.client.ui.VerticalPanel;

import stevengantz.memory.card.ImageCardFace;
import stevengantz.memory.card.MemoryCard;
import stevengantz.memory.data.Appdata;

/**
 * Entry point classes define <code>onModuleLoad()</code>.
 */
public class memory implements EntryPoint {

    private Label lbl = new Label();
    private Button btn = new Button("Clip this image");
    private Button btn2 = new Button("Restore image");
    
    /**
     * The generic image that all cards will have on their backs
     */
    private Image cardBack = new Image();
    private Image errorImage = new Image();

    /**
     * This is the entry point method.
     */
    public void onModuleLoad() {

        MemoryCard mem = new MemoryCard(new ImageCardFace("img/card-back.jpg"), new ImageCardFace("img/card-back.jpg"));

        Image cardFace = new Image();
        cardFace.addErrorHandler(new ErrorHandler() {
            public void onError(ErrorEvent event) {
            }
        });
        cardFace.setUrl("http://i.imgur.com/74FVTpV.jpg?1");
        cardFace.setPixelSize(Appdata.cardWidth, Appdata.cardHeight);

        
        // Add the image, label, and clip/restore buttons to the root panel.
        VerticalPanel panel = new VerticalPanel();
        
        /**
        ImageCardFace card = (ImageCardFace) mem.getFrontFace();
        Image cardImage = card.getFace();
        
        panel.add(cardImage);**/
        panel.add(cardFace);

        RootPanel.get().add(panel);
    }
    
    private void loadImages() {
        this.cardBack.setUrl("img/card-back.jpg");
    }
    
    private void setImageErrorHandlers() {
        this.cardBack.addErrorHandler(new ErrorHandler() {
            public void onError(ErrorEvent event) {
                
            }
        });
    }
}
